(this["webpackJsonpdiscord-clone"]=this["webpackJsonpdiscord-clone"]||[]).push([[0],{74:function(e,c,n){},75:function(e,c,n){},79:function(e,c,n){},84:function(e,c,n){},85:function(e,c,n){},86:function(e,c,n){},87:function(e,c,n){},88:function(e,c,n){},89:function(e,c,n){},90:function(e,c,n){"use strict";n.r(c);var a=n(3),s=n(2),t=n.n(s),r=n(23),i=n.n(r),l=(n(74),n(75),n(25)),o=n(9),d=n(27),j=Object(d.b)({name:"user",initialState:{user:null},reducers:{login:function(e,c){e.user=c.payload},logout:function(e){e.user=null}}}),b=j.actions,h=b.login,u=b.logout,m=function(e){return e.user.user},O=j.reducer,p=(n(79),n(39)),v=n.n(p),x=n(29),f=x.a.initializeApp({apiKey:"AIzaSyB05OmarqivGc5YTKUATgzXJ8Nz_IOuv9M",authDomain:"discord-clone-75157.firebaseapp.com",projectId:"discord-clone-75157",storageBucket:"discord-clone-75157.appspot.com",messagingSenderId:"538671599107",appId:"1:538671599107:web:1fe145eaebf8df167f8836",measurementId:"G-XDTQKXKTD7"}).firestore(),_=x.a.auth(),N=new x.a.auth.GoogleAuthProvider,g=f,I=Object(d.b)({name:"app",initialState:{serverId:null,serverName:null,channelId:null,channelName:null},reducers:{setServerInfo:function(e,c){e.serverId=c.payload.serverId,e.serverName=c.payload.serverName,e.channelId=null,e.channelName=null},setChannelInfo:function(e,c){e.channelId=c.payload.channelId,e.channelName=c.payload.channelName}}}),S=I.actions,y=S.setServerInfo,w=S.setChannelInfo,C=function(e){return e.app.serverId},k=function(e){return e.app.serverName},z=function(e){return e.app.channelId},B=function(e){return e.app.channelName},E=I.reducer;var H=function(){var e=Object(o.c)(m),c=Object(s.useState)([]),n=Object(l.a)(c,2),t=(n[0],n[1]),r=Object(o.b)();return Object(s.useEffect)((function(){g.collection("servers").orderBy("serverName","asc").onSnapshot((function(e){return t(e.docs.map((function(e){return{id:e.id,server:e.data()}})))}))}),[]),Object(a.jsxs)("div",{className:"sidebar__serverList",children:[Object(a.jsx)("div",{className:"sidebar__server",onClick:function(){r(y({serverId:1,serverName:"Hello world"}))},children:Object(a.jsx)("img",{src:"https://www.shareicon.net/data/256x256/2016/01/03/230309_kronk_256x256.png",className:"sidebar__serverImg"})}),Object(a.jsx)("div",{className:"sidebar__server",children:Object(a.jsx)("img",{src:"https://img.fireden.net/sci/image/1549/15/1549150062827.png",className:"sidebar__serverImg"})}),Object(a.jsx)("div",{className:"sidebar__server",children:Object(a.jsx)("img",{src:"https://cdn.theorg.com/00ee9efe-9828-47c3-ba2f-61a4b504b8f4_thumb.jpg",className:"sidebar__serverImg"})}),Object(a.jsx)(v.a,{onClick:function(){var c=prompt("Enter a new server");if(c){var n=prompt("Enter photo URL");n&&g.collection("servers").add({serverName:c,photo:n,administrators:[{displayName:e.displayName,uid:e.uid}],moderators:[]})}},className:"sidebar__addServer"})]})},T=(n(84),n(44)),D=n.n(T);n(85);var A=function(e){var c=e.id,n=e.channelName,s=Object(o.b)();return Object(a.jsx)("div",{className:"sidebarChannel",onClick:function(){return s(w({channelId:c,channelName:n}))},children:Object(a.jsxs)("h4",{children:[Object(a.jsx)("span",{className:"sidebarChannel__hash",children:"#"}),n]})})},F=n(107),K=n(53),L=n.n(K),M=n(109),U=n(52),G=n.n(U),J=n(56),W=n.n(J),X=n(55),P=n.n(X),R=n(54),V=n.n(R);var q=function(){var e=Object(o.c)(m),c=Object(s.useState)([]),n=Object(l.a)(c,2),t=n[0],r=n[1],i=(Object(o.c)(C),Object(o.c)(k));return Object(s.useEffect)((function(){g.collection("channels").orderBy("channelName","asc").onSnapshot((function(e){return r(e.docs.map((function(e){return{id:e.id,channel:e.data()}})))}))}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(H,{}),Object(a.jsxs)("div",{className:"sidebar",children:[Object(a.jsxs)("div",{className:"sidebar__top",children:[Object(a.jsx)("h3",{children:i}),Object(a.jsx)(D.a,{})]}),Object(a.jsxs)("div",{className:"sidebar__channels",children:[Object(a.jsxs)("div",{className:"sidebar__channelsHeader",children:[Object(a.jsxs)("div",{className:"sidebar__header",children:[Object(a.jsx)(D.a,{}),Object(a.jsx)("h4",{children:"Text Channels"})]}),Object(a.jsx)(v.a,{onClick:function(){var e=prompt("Enter a new channel");e&&g.collection("channels").add({channelName:e})},className:"sidebar__addChannel"})]}),Object(a.jsx)("div",{className:"sidebar__channelsList",children:t.map((function(e){var c=e.id,n=e.channel;return Object(a.jsx)(A,{id:c,channelName:n.channelName},c)}))})]}),Object(a.jsxs)("div",{className:"sidebar__voice",children:[Object(a.jsx)(F.a,{className:"sidebar__voiceIcon",fontSize:"large"}),Object(a.jsxs)("div",{className:"sidebar__voiceInfo",children:[Object(a.jsx)("h3",{children:"Voice Connected"}),Object(a.jsx)("p",{children:"Stream"})]}),Object(a.jsxs)("div",{className:"sidebar__voiceIcons",children:[Object(a.jsx)(G.a,{}),Object(a.jsx)(L.a,{})]})]}),Object(a.jsxs)("div",{className:"sidebar__profile",children:[Object(a.jsx)(M.a,{onClick:function(){return _.signOut()},src:e.photo}),Object(a.jsxs)("div",{className:"sidebar__profileInfo",children:[Object(a.jsx)("h3",{children:e.displayName}),Object(a.jsxs)("p",{children:["#",e.uid.substring(0,10)]})]}),Object(a.jsxs)("div",{className:"sidebar__profileIcons",children:[Object(a.jsx)(V.a,{}),Object(a.jsx)(P.a,{}),Object(a.jsx)(W.a,{})]})]})]})]})};n(86);var Q=function(e){var c=e.timestamp,n=e.message,s=e.user;return Object(a.jsxs)("div",{className:"message",children:[Object(a.jsx)(M.a,{src:s.photo}),Object(a.jsxs)("div",{className:"message__info",children:[Object(a.jsxs)("h4",{children:[s.name,Object(a.jsx)("span",{className:"message__timestamp",children:new Date(null===c||void 0===c?void 0:c.toDate()).toUTCString()})]}),Object(a.jsx)("p",{children:n})]})]})},Y=(n(87),n(57)),$=n.n(Y),Z=n(58),ee=n.n(Z),ce=n(59),ne=n.n(ce),ae=n(60),se=n.n(ae),te=n(61),re=n.n(te),ie=n(62),le=n.n(ie);var oe=function(e){var c=e.channelName;return Object(a.jsxs)("div",{className:"chatHeader",children:[Object(a.jsx)("div",{className:"chatHeader__left",children:Object(a.jsxs)("h3",{children:[Object(a.jsx)("span",{className:"chatHeader__hash",children:"#"}),c]})}),Object(a.jsxs)("div",{className:"chatHeader__right",children:[Object(a.jsx)($.a,{}),Object(a.jsx)(ee.a,{}),Object(a.jsx)(ne.a,{}),Object(a.jsxs)("div",{className:"chatHeader__search",children:[Object(a.jsx)("input",{placeholder:"Search"}),Object(a.jsx)(se.a,{})]}),Object(a.jsx)(re.a,{}),Object(a.jsx)(le.a,{})]})]})},de=(n(88),n(64)),je=n.n(de),be=n(65),he=n.n(be),ue=n(66),me=n.n(ue),Oe=n(63),pe=n.n(Oe);var ve=function(){var e=Object(o.c)(m),c=(Object(o.c)(C),Object(o.c)(k),Object(o.c)(z)),n=Object(o.c)(B),t=Object(s.useState)(""),r=Object(l.a)(t,2),i=r[0],d=r[1],j=Object(s.useState)([]),b=Object(l.a)(j,2),h=b[0],u=b[1];return Object(s.useEffect)((function(){c&&g.collection("channels").doc(c).collection("messages").orderBy("timestamp","asc").onSnapshot((function(e){return u(e.docs.map((function(e){return e.data()})))}))}),[c]),Object(a.jsxs)("div",{className:"chat",children:[Object(a.jsx)(oe,{channelName:n}),Object(a.jsx)("div",{className:"chat__messages",children:h.map((function(e){return Object(a.jsx)(Q,{timestamp:e.timestamp,message:e.message,user:e.user})}))}),Object(a.jsxs)("div",{className:"chat__input",children:[Object(a.jsx)(pe.a,{fontSize:"large"}),Object(a.jsxs)("form",{children:[Object(a.jsx)("input",{value:i,disabled:!c,onChange:function(e){return d(e.target.value)},placeholder:"Message #".concat(n)}),Object(a.jsx)("button",{disabled:!c,className:"chat__inputButton",type:"submit",onClick:function(n){n.preventDefault(),g.collection("channels").doc(c).collection("messages").add({timestamp:x.a.firestore.FieldValue.serverTimestamp(),message:i,user:e}),d("")},children:"Send Message"})]}),Object(a.jsxs)("div",{className:"chat__inputIcons",children:[Object(a.jsx)(je.a,{fontSize:"large"}),Object(a.jsx)(he.a,{fontSize:"large"}),Object(a.jsx)(me.a,{fontSize:"large"})]})]})]})},xe=n(108);n(89);var fe=function(){return Object(a.jsxs)("div",{className:"login",children:[Object(a.jsx)("div",{className:"login__logo",children:Object(a.jsx)("img",{src:"/main_logo.png",alt:"app logo"})}),Object(a.jsx)(xe.a,{onClick:function(){_.signInWithPopup(N).catch((function(e){return alert(e.message)}))},children:"Sign In"})]})};var _e=function(){var e=Object(o.b)(),c=Object(o.c)(m);return Object(s.useEffect)((function(){_.onAuthStateChanged((function(c){e(c?h({uid:c.uid,photo:c.photoURL,email:c.email,displayName:c.displayName}):u())}))}),[e]),Object(a.jsx)("div",{className:"app",children:c?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(q,{}),Object(a.jsx)(ve,{})]}):Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(fe,{})})})},Ne=Object(d.a)({reducer:{user:O,app:E}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(a.jsx)(t.a.StrictMode,{children:Object(a.jsx)(o.a,{store:Ne,children:Object(a.jsx)(_e,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[90,1,2]]]);
//# sourceMappingURL=main.7763476f.chunk.js.map